(function($){'use strict';$(document).ready(function(){$.extend($.validator.messages,{required:"השדה הזה הינו שדה חובה",remote:"נא לתקן שדה זה",email:"נא למלא כתובת דוא\"ל חוקית",url:"נא למלא כתובת אינטרנט חוקית",date:"נא למלא תאריך חוקי",dateISO:"נא למלא תאריך חוקי (ISO)",number:"נא למלא מספר",digits:"נא למלא רק מספרים",creditcard:"נא למלא מספר כרטיס אשראי חוקי",equalTo:"נא למלא את אותו ערך שוב",extension:"נא למלא ערך עם סיומת חוקית",maxlength:$.validator.format(".נא לא למלא לא יותר מ- {0} תווים"),minlength:$.validator.format("נא למלא לפחות {0} תווים"),rangelength:$.validator.format("נא למלא ערך בין {0} ל- {1} תווים"),range:$.validator.format("נא למלא ערך בין {0} ל- {1}"),max:$.validator.format("נא למלא ערך קטן או שווה ל- {0}"),min:$.validator.format("נא למלא ערך גדול או שווה ל- {0}"),eitan:"גיל הנהג פחות וותק חייב להיות מעל 17",checkVal2:"אינך יכול להמשיך אם היו לך 2 תביעות או יותר",checkCriminalRecords:"אינך יכול/ה להמשיך אם עבר פלילי",checkDenials:"אינך יכול/ה להמשיך אם היו לך 2 שלילות או אם הינך כרגע בשלילה",lettersonly:'מותר רק אותיות',validateYear:'נא למלא מס רישוי נכון',checkID:'יש למלא מספר זהות תקין'});$("#form-1").validate({rules:{name:"required",email:{required:!0,checkEmail:!0},city:'required','insurance_period':"required",'insurance-date-finish':"required",'vehicle-manufacturer':'required','vehicle-year':'required','vehicle-brand':'required','vehicle-sub-brand':'required','gears':'required','deviation-system':'required','stability-system':'required','keeping-distance-system':'required','ownership':'required','vehicle-ownership':'required',"drive-on-saturday":"required",'gender':'required','drive-allowed-number':'required','denials':'required','lawsuits':'required','youngest-driver':{required:!0,eitan:!0},'lowest-seniority':{required:!0,eitan:!0},'insurance-before':'required','insurance-1-year':'required','insurance-2-year':'required','insurance-3-year':'required','law-suite-what-year':'required','law-suites-3-year':{required:!0,checkVal2:!0},'body-claims':{required:!0,checkVal2:!1},'criminal-record':{required:!0,checkCriminalRecords:!1},'license-suspensions':{required:!0,checkDenials:!1},'tac':'required'},errorPlacement:function(error,element){if(element[0].tagName==="SELECT"){error.insertAfter($(element).closest('.s-select-wrapper'))}else if(element.attr('type')==='radio'){error.insertAfter($(element).closest('.s-radio-wrapper'))}else if(element.hasClass('datepicker')){error.insertAfter($(element).closest('.date-picker'))}else if(element.hasClass('tac-1')){error.insertAfter($(element).next())}else{error.insertAfter(element)}}});$("#form-2").validate({rules:{'license-number':{required:!0,digits:!0,validateYear:!0,minlength:7,maxlength:8},'compare3-name':{required:!0,lettersonly:!0},'compare3-phone':{required:!0,digits:!0,minlength:10,maxlength:10},'ownership-date':'required','first-name':{required:!0,lettersonly:!0},'last-name':{required:!0,lettersonly:!0},'identical-number':{required:!0,digits:!0,checkID:!0},'driver-identical-number':{required:!0,digits:!0,checkID:!0,maxlength:8},'driver-identical-number[]':{required:!0,digits:!0,checkID:!0,maxlength:10},'driver-identical-number_0':{required:!0,digits:!0,checkID:!0,maxlength:10},'driver-identical-number_1':{required:!0,digits:!0,checkID:!0,maxlength:10},'driver-identical-number_2':{required:!0,digits:!0,checkID:!0,maxlength:10},'driver-identical-number_3':{required:!0,digits:!0,checkID:!0,maxlength:10},'ownership-under-year':{required:!0,minlength:4,},'birthday-date':'required','policy-send':'required','gender':"required",'driver-gender[0]':'required','driver-gender[1]':'required','driver-gender[2]':'required','drive-allowed':"required",'license-year':{required:!0,digits:!0,maxlength:4},'mobile-phone-number':{required:!0,digits:!0,minlength:10,maxlength:10},'email':{required:!0},'additional-phone-number':{digits:!0,maxlength:10},'city':{required:!0},'city-another':{required:!0},'street':{required:!0},'street-another':{required:!0},'house-number':{required:!0,},'house-number-another':{required:!0,},'apartment-number':{digits:!0},'apartment-number-another':{digits:!0},'driver-first-name[]':{required:!0,lettersonly:!0},'driver-last-name[]':{required:!0,lettersonly:!0},'driver-birthday[]':"required",'driver-gender-1':"required",'driver-gender-2':"required",'driver-gender-3':"required",'driver-gender-4':"required",'driver-gender-5':"required",'driver-gender-6':"required",'years-issuing-license[]':{required:!0,digits:!0,maxlength:4},'cardholder-name':{required:!0,lettersonly:!0},'cardholder-id':{required:!0,digits:!0,checkID:!0},'card-type':"required",'card-number':{required:!0,digits:!0},'card-month':{required:!0,digits:!0,maxlength:2,range:[1,12]},'card-year':{required:!0,digits:!0},'tac-1':'required','cvv-number':"required",'mandat-num-payments':"required",'other-num-payments':"required"},errorPlacement:function(error,element){if(element[0].tagName==="SELECT"){error.insertAfter($(element).closest('.s-select-wrapper'))}else if(element.attr('type')==='radio'){error.insertAfter($(element).closest('.s-radio-wrapper'))}else if(element.hasClass('datepicker')){error.insertAfter($(element).closest('.date-picker'))}else if(element.hasClass('tac-1')){error.insertAfter($(element).next())}else{error.insertAfter(element)}}});jQuery.validator.addClassRules('required',{required:!0});$('.contact-us-compare-form-email-1111').validate({rules:{'contact-compare-name-1':'required','contact-compare-email-1':{required:!0,checkEmail:!0}},errorPlacement:function(error,element){error.insertAfter(element)}});$('.contact-us-compare-form-phone-1111').validate({rules:{'contact-compare-name-2-1':'required','contact-compare-phone-1':{required:!0,digits:!0,minlength:10,maxlength:10}},errorPlacement:function(error,element){error.insertAfter(element)}})});$.validator.addMethod("eitan",function(value,element,options){var youngest_age=$('#youngest-driver'),lowest_seniority=$('#lowest-seniority'),tooYoung=(parseInt(youngest_age.val())-parseInt(lowest_seniority.val())<17);if(tooYoung){youngest_age.addClass('error');lowest_seniority.addClass('error')}else{youngest_age.removeClass('error');lowest_seniority.removeClass('error');$(document).find('#form-1 #collapseThree #youngest-driver-error').remove();$(document).find('#form-1 #collapseThree #lowest-seniority-error').remove()}
return!tooYoung},"נא להזין גיל הנהג הצעיר ביותר");jQuery.validator.addMethod("checkVal2",function(val){var ins_type=jQuery('input[name="in_type"]').val();if(val=='3'&&+ins_type!==1){return!1}
return!0},"לא ניתן להמשיך - עבר ביטוחי");jQuery.validator.addMethod("checkCriminalRecords",function(val){if(val=='1'){return!1}
return!0},"לא ניתן להמשיך - עבר פלילי");jQuery.validator.addMethod("checkDenials",function(val){if(val=='2'||val=='3'){return!1}
return!0},"לא ניתן להמשיך - כרגע בשלילה");jQuery.validator.addMethod("validateYear",function(val,element,options){var year=parseInt($(element).data('year'));console.log(year);if(year>=2018){if(val.length!=8){return!1}}
if(year<=2017){if(val.length<7||val.lengt>8){return!1}}
return!0},"נא להזין מספר רכב תקין");jQuery.validator.addMethod("checkEmail",function(val){var pattern=/^([a-z\d!#$%&'*+\-\/=?^_`{|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+(\.[a-z\d!#$%&'*+\-\/=?^_`{|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+)*|"((([ \t]*\r\n)?[ \t]+)?([\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|\\[\x01-\x09\x0b\x0c\x0d-\x7f\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))*(([ \t]*\r\n)?[ \t]+)?")@(([a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|[a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF][a-z\d\-._~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]*[a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])\.)+([a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|[a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF][a-z\d\-._~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]*[a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])\.?$/i;if(!pattern.test(val)){return!1}
return!0},"נא להזין כתובת מייל חוקית");jQuery.validator.addMethod("lettersonly",function(value,element){return this.optional(element)||/^[a-z א-ת \' -]+$/i.test(value)},"Letters only");jQuery.validator.addMethod("checkID",function(val,element){var IDnum=val;if(IDnum.length>9){IDnum=IDnum.substring(0,9)}
if((IDnum.length>9)||(IDnum.length<5))
return!1;if(isNaN(IDnum)){return!1}
if(IDnum.length<9){while(IDnum.length<9){IDnum='0'+IDnum}}
var mone=0,incNum;var tempIdNum=parseInt(IDnum);if(tempIdNum==0){return!1}
for(var i=0;i<9;i++){incNum=Number(IDnum.charAt(i));incNum*=(i%2)+1;if(incNum>9)
incNum-=9;mone+=incNum}
if(mone%10==0){return!0}else{return!1}},"נא להזין תעודת זהות תקינה");jQuery.validator.addClassRules('driver-identical-number',{required:!0});if($(document).find('input[name="birthday-date"]').length>0){if($(document).find('input[name="birthday-date"]').val()!=''){sogo_trigger_license_year()}}
$(document).on('change','input[name="birthday-date"]',function(){sogo_trigger_license_year()})})(jQuery)